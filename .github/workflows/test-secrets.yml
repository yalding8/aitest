name: Test Secrets Configuration

on:
  workflow_dispatch:  # 手动触发

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Check if secrets are configured
        run: |
          echo "Checking secrets configuration..."
          
          if [ -z "${{ secrets.SERVER_HOST }}" ]; then
            echo "❌ SERVER_HOST is NOT configured or is empty"
          else
            echo "✅ SERVER_HOST is configured (value hidden for security)"
          fi
          
          if [ -z "${{ secrets.SERVER_USER }}" ]; then
            echo "❌ SERVER_USER is NOT configured or is empty"
          else
            echo "✅ SERVER_USER is configured: ${{ secrets.SERVER_USER }}"
          fi
          
          if [ -z "${{ secrets.SSH_PRIVATE_KEY }}" ]; then
            echo "❌ SSH_PRIVATE_KEY is NOT configured or is empty"
          else
            echo "✅ SSH_PRIVATE_KEY is configured (length: ${#SSH_KEY} chars)"
          fi
        env:
          SSH_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
